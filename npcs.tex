\newcommand{\srsixstats}[5]
{
    \begin{center}
    \begin{tabular}{ccccc}
        \rowcolor{tablebackground2}
        \tableheader{DR} & \tableheader{I/ID} & \tableheader{AC} & \tableheader{CM} & \tableheader{MOVE} \\
        \rowcolor{tablebackground}
        #1 & #2 & #3 & #4 & #5
    \end{tabular}
    \end{center}
    \par
}

\newcommand{\statline}[9]
{
    \begingroup
    \setlength{\tabcolsep}{0pt}
    \begin{tabularx}{\textwidth}{YYYYYYYYY}
        \rowcolor{tablebackground2}
        \tableheader{B} & \tableheader{A} & \tableheader{R} & \tableheader{S} & \tableheader{W} & \tableheader{L} & \tableheader{I} & \tableheader{C} & \tableheader{ESS} \\
        \rowcolor{tablebackground}
        #1 & #2 & #3 & #4 & #5 & #6 & #7 & #8 & #9 \\
    \end{tabularx}
    \endgroup
    \par
}

\newcommand{\@relay@statlineSpecial}[9]
{
    \begingroup
    \setlength{\tabcolsep}{0pt}
    \begin{tabularx}{\textwidth}{YYYYYYYYYY}
        \rowcolor{tablebackground2}
        \tableheader{B} & \tableheader{A} & \tableheader{R} & \tableheader{S} & \tableheader{W} & \tableheader{L} & \tableheader{I} & \tableheader{C} & \tableheader{ESS} & \tableheader{#8}\\
        \rowcolor{tablebackground}
        \@tmp & \@tmptwo & #1 & #2 & #3 & #4 & #5 & #6 & #7 & #9 \\
    \end{tabularx}
    \endgroup
    \par
}

\newcommand{\statlineSpecial}[2]
{
    \def\@tmp{#1}
    \def\@tmptwo{#2}
    \@relay@statlineSpecial
}

\newcommand{\@relay@statlineDoubleSpecial}[9]
{
    \begingroup
    \setlength{\tabcolsep}{0pt}
    \begin{tabularx}{\textwidth}{YYYYYYYYYYY}
        \rowcolor{tablebackground2}
        \tableheader{B} & \tableheader{A} & \tableheader{R} & \tableheader{S} & \tableheader{W} & \tableheader{L} & \tableheader{I} & \tableheader{C} & \tableheader{ESS} & \tableheader{#6} & \tableheader{#8}\\
        \rowcolor{tablebackground}
        \@tmp & \@tmptwo & \@tmpthree & \@tmpfour & #1 & #2 & #3 & #4 & #5 & #7 & #9 \\
    \end{tabularx}
    \endgroup
    \par
}

\newcommand{\statlineDoubleSpecial}[4]
{
    \def\@tmp{#1}
    \def\@tmptwo{#2}
    \def\@tmpthree{#3}
    \def\@tmpfour{#4}
    \@relay@statlineDoubleSpecial
}

\mdfdefinestyle{statblock@srfive}{backgroundcolor=tablebackground, hidealllines=true, innertopmargin=0pt, innerbottommargin=0pt, innerleftmargin=0pt, innerrightmargin=0pt, nobreak=true}
\mdfdefinestyle{statblock@srsix}{backgroundcolor=tablebackground, hidealllines=true, innertopmargin=8pt, innerbottommargin=8pt, innerleftmargin=8pt, innerrightmargin=8pt, nobreak=true}

\newenvironment{statblock@internal}
{
    \ifthenelse{\isundefined{\@nomargin}}
    {
        \gdef\mdframedopt{statblock@srsix}
    }
    {
        \gdef\mdframedopt{statblock@srfive}
    }
    \begin{mdframed}[style=\mdframedopt]
        \setlength\parindent{0pt}
        \tablefont
        \footnotesize
        
        \begin{flushleft}
}
{
        \end{flushleft}
    \end{mdframed}
}

\newenvironment{statblock}
{
    \begin{statblock@internal}
}
{
    \end{statblock@internal}
}

\newenvironment{statblock*}
{
    \begingroup
    \def\@nomargin{}
    \begin{statblock@internal}
}
{
    \end{statblock@internal}
    \endgroup
}

\newcommand{\statblockHeader}[1]
{
    \tableheader{\normalsize #1}\par\vspace{5pt}
}

\newenvironment{sr5properties}
{
    \begingroup
    \newcommand{\property}[2]{\cellcolor{tablebackground2}\textbf{##1} & \multicolumn{2}{>{\hsize=2\hsize}X}{\cellcolor{tablebackground}##2} \\}
    \tabularx{\textwidth}{XXX}
}
{
    \endtabularx
    \endgroup
}

\newenvironment{sr6properties}
{
    \begingroup
    \newcommand{\property}[2]{\textbf{##1:} ##2\par}
    \newenvironment{weaponlist}
    {
        \begingroup
        \textbf{Weapons:}
        \begin{list}{}
        {
            \setlength\topsep{0pt}
            \setlength\itemindent{-6mm}
            \setlength\leftmargin{12mm}
            \setlength\itemsep{0pt}
        }
    }
    {
        \end{list}
        \endgroup
    }
}
{
    \endgroup
}
