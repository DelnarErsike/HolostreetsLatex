% commands.tex - for commands we expect the user to use
% executed after definitions but before configuration

\newcommand{\TitleImage}[1]{\def\titleimage{#1}}

\newcommand{\shadowrunlegaltext}{Shadowrun, Sixth World, and Matrix, and associated graphics and logos are registered trademarks and/or trademarks of The Topps Company, Inc., in the United States and/or other countries. Catalyst Game Labs and the Catalyst Game Labs logo are trademarks of InMediaRes Productions, LLC.}

\newcommand{\beginnumbering}
{
    \InsertMark{drawPageNumber}{1}
    \setcounter{page}{1}
}

\newenvironment{chatter}
{
    \tt
}
{
}

\DeclareRobustCommand{\tableheader}[1]{
    \textcolor{corecolor}{\headerfont\MakeUppercase{#1}}
}
   
\newcommand{\quality}[3]{
    \subsection{#1}
    \begin{bfseries}
        #2
    \end{bfseries}
    
    #3
}

\newcommand{\adeptpower}[3]{
    \subsection{#1}
    \begin{FlushLeft}
    \begin{bfseries}
        #2
    \end{bfseries}
    \end{FlushLeft}

    #3
}

%- 1st: name
%- 2nd: type line
%- 3rd: type
%- 4th: range
%- 5th: damage (optional kind of?)
%- 6th: duration
%- 7th: drain
%- 8th - content
\newcommand{\combatspell}[8]{
    \undef\@headerrule
    \subsection{#1}
    \vspace{-\@postheaderlength}
    \def\@headerrule{}
    \begin{FlushLeft}
        {\small\headerfont\MakeUppercase{#2}}
        \vspace{2pt plus 2pt minus 2pt}
        \hrule
        \vspace{2pt plus 2pt minus 2pt}
        \begin{tabular}{lll}
            \textbf{Type:} #3     & \textbf{Range:} #4  & \ifstrempty{#5}{}{\textbf{Damage:} #5} \\
            \textbf{Duration:} #6 & \textbf{Drain:} #7 &           \\
        \end{tabular}
    \end{FlushLeft}
    
    #8
}

%- 1st: name
%- 2nd: type line
%- 3rd: type
%- 4th: range
%- 5th: damage (optional kind of?)
%- 6th: duration
%- 7th: drain
%- 8th - content
\newcommand{\spell}[7]{
    \combatspell{#1}{#2}{#3}{#4}{}{#5}{#6}{#7}
}

\newcommand{\yen}{Â¥}

\newcommand{\todo}[1]{{\color{red}\textbf{TODO: #1}}}

\newcommand{\matrixaction}[3]
{
    \subsubsection{#1}
    \toks0={#1}%
    \edef\param{\the\toks0}
    \begin{bfseries}
        \raggedright#2
    \end{bfseries}

    #3
}

\newenvironment{srsmalltable}[2][h]
{
    \begin{table}[#1]
        \begin{mdframed}[backgroundcolor=tablebackground, hidealllines=true, innertopmargin=12pt, innerbottommargin=12pt]
            \begin{small}
            \tableheader{\raggedright\Large #2}
            
            \tablefont
            \medskip
            \small
            \rowcolors{1}{tablebackground2}{tablebackground}
}
{
            \end{small}
        \end{mdframed}
    \end{table}
}

\newenvironment{srbigtable}[2][h]
{
    \begin{table*}[#1]
        \begin{mdframed}[backgroundcolor=tablebackground, hidealllines=true, innertopmargin=12pt, innerbottommargin=12pt]
            \tableheader{\raggedright\Large #2}
            
            \tablefont
            \medskip
            \small
            \rowcolors{1}{tablebackground2}{tablebackground}
}
{
        \end{mdframed}
    \end{table*}
}

\newenvironment{srsmallbox}[2][h]
{
    \begin{figure}[#1]
        \begin{mdframed}[backgroundcolor=tablebackground, hidealllines=true, innertopmargin=12pt, innerbottommargin=12pt]
            \begin{small}
            \tableheader{\raggedright\Large #2}
            
            \tablefont
            \medskip
            \rowcolors{1}{tablebackground2}{tablebackground}
}
{
            \end{small}
        \end{mdframed}
    \end{figure}
}

\newenvironment{srbigbox}[2][h]
{
    \begin{figure*}[#1]
        \begin{mdframed}[backgroundcolor=tablebackground, hidealllines=true, innertopmargin=12pt, innerbottommargin=12pt]
            \tableheader{\raggedright\Large #2}
            
            \tablefont
            \medskip
            \small
            \rowcolors{1}{tablebackground2}{tablebackground}
}
{
        \end{mdframed}
    \end{figure*}
}


\newdimen\scratch@dimen
% helper for multicolumn
% first arg: total number of columns
% second arg: content
% handles calculating the width
\newcommand{\wholerow}[2]
{
    \multicolumn{#1}{>{\scratch@dimen=\dimexpr\textwidth-2\arraycolsep\relax\hsize=\scratch@dimen}X}{#2}
}

\input{collections}